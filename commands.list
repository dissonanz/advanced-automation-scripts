curl -uadmin:password -X PUT http://lab.lab:8081/artifactory/api/security/users/<yourusername> -H "content-type: application/vnd.org.jfrog.artifactory.security.User+json" -T user.json

curl –u<user>:<password> -X POST http://lab.lab:8081/artifactory/api/security/apiKey

git clone https://github.com/jfrogtraining/artifactory-user-plugins-devenv.git

git clone https://github.com/JFrogDev/artifactory-user-plugins.git

cd artifactory-user-plugins-devenv

./gradlew workOnPlugin -DpluginName=storage/layoutProperties

#INSTALLING CLI WITH HOMEBREW:
export HOMEBREW_BOTTLE_DOMAIN=https://artifactory-us.jfrog.info/artifactory
brew install jfrog-cli-go
#GETTING CLI BINARY DIRECTLY:
#browse to: https://artifactory-us.jfrog.info/artifactory/jfrog-cli/1.2.0/
#select binary appropriate to your distribution

jfrog mc c --url=http://10.60.1.221:8080 --user=admin --password=password --interactive=false
jfrog mc rti attach-lic <userName> --bucket-id=abcdefg --bucket-key= 2c1fa1029a24a9c4b31f1117e3dc88aebbbceb9a6a96857773fd0f0c2cf52e03 --license-path=local-store/artifactory.lic

./gradlew pre
./gradlew start

#Finish up plugin work
./gradlew workOnPlugin -DpluginName=config/repoLayoutsConfig
cd ..

#Config CLI for Lab Artifactory and DL (TODO: Update URL)
jfrog rt config --url=https://gcartifactory-us.jfrog.info/artifactory/ --user=<username> –-password=<password>
jfrog rt dl swampup-cache/aauto-assets/datastore/

#adding custom layout
curl -uadmin:password -X POST http://localhost:8088/artifactory/api/plugins/execute/addLayout -T swampupLayout.json

#create repository uploaded-local:
curl -uadmin:password -H "Content-Type: application/vnd.org.jfrog.artifactory.repositories.LocalRepositoryConfiguration+json" -X PUT http://localhost:8088/artifactory/api/repositories/uploaded-local -T uploaded-local.json

#Upload data:
jfrog rt c --url="http://localhost:8088/artifactory/" --user=admin --password=password
cd aauto-assets/datastore
jfrog rt u --flat=false --props="uploadCall=1" "./*" uploaded-local
cd ../..

#AQL Section
jfrog rt mv "uploaded-local/*12*" "ext-release-local"

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -d 'items.find()'

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -d 'items.find().include("path", "@layout.folderIntegrationRevision", "stat.downloads")'

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -d 'items.find().include("path", "@layout.folderIntegrationRevision", "@layout.environment", "stat.downloads")'

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -d 'items.find({"@layout.folderIntegrationRevision" : {"$match" : "2015*"}}).include("path", "@layout.folderIntegrationRevision", "@layout.environment", "stat.downloads")'

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -d 'items.find({"@layout.folderIntegrationRevision" : {"$match" : "2015*"}, "@layout.environment" : "PRD" }).include("path", "@layout.folderIntegrationRevision", "@layout.environment", "stat.downloads")'

curl -uadmin:password -X POST http://localhost:8088/artifactory/api/search/aql -T aql.json

git clone https://github.com/JFrogDev/artifactory-scripts.git

groovy artifactory-scripts/cleanup/aqlCleanup.groovy

#Or delete with CLI
jfrog rt del --props="layout.environment=DEV" "ext-release-local/*"
